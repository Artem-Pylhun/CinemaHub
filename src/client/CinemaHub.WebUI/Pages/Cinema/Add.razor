@page "/cinema/add"
@using System.Text.Json
@inject IObjService<CinemaDto, CinemaCreateDto, CinemaUpdateDto> CinemaService
@inject IMapper _mapper
@inject NavigationManager NavigationManager

<PageTitle>Add cinema</PageTitle>
<h3>Add cinema</h3>
<EditForm Model="cinema" OnSubmit="HandleSubmit" FormName="AddCinema">
    <div>
        <label for="title">Title</label>
        <InputText @bind-Value="cinema.Title" class="form-control"></InputText>
    </div>
    <div>
        <label for="location">Location</label>
        <InputText @bind-Value="cinema.Location" class="form-control"></InputText>
    </div>
    <div>
        <label for="phone">Phone number</label>
        <InputText @bind-Value="cinema.PhoneNumber" class="form-control"></InputText>
    </div>
    <br />
    <button type="submit" class="btn btn-primary">Create Cinema</button>
</EditForm>
@code {
    CinemaCreateDto cinema = new CinemaCreateDto();
    
    async Task HandleSubmit()
    {
        await CinemaService.CreateObject(cinema);
    }
}